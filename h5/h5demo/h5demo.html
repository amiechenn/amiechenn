<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, ,maximum-scale=1.0,user-scalable=no" />
<title>h5 模板</title>
<link href="h5demo.css" rel="stylesheet" />
<script src="jquery-2.1.3.min.js"></script>
<script src="jquery.touchSwipe.js"></script>

</head>
<body  style="overflow: hidden">
	<div id='wx_logo' style='margin:0 auto;display:none;'>
		<img src="images/wx.jpg" />
	</div>
 	<div>
        <div class="music-box">
            <div class="music rotate">
                <img src="images/music.png" />
            </div>
            <div class="note"><img src="images/music.gif" width="60px" /></div> 
            <audio src="images/1.mp3" loop autoplay id="yin"></audio>	
        </div>
        <div class="top"><img src="images/top.png" /></div>
        <div class="page page1 current">
            <img class="logo" src="images/giraffe.png" />
            <div class="title">
                <h1>长颈鹿</h1>
                <h2>我就是一个模板</h2>
            </div>
        </div>
        <div class="page page2 hide">
            <img src="images/bee.png" />
            <ul>
                <li class="slide1">slide</li>
                <li class="slide2">slide</li>
                <li class="slide3">slide</li>
                <li class="slide4">slide</li>
            </ul>
        </div>
        <div class="page page3 hide">
            <h2>这里有好多圆</h2>
            <ul>
                <li class="circle1">1</li>
                <li class="circle2">2</li>
                <li class="circle3">3</li>
                <li class="circle4">4</li>
                <li class="circle5">5</li>
            </ul>
        </div>
        <div class="page page4 hide ">
            <h2>这里有4个长方形</h2>
            <ul>
                <li class="square1">1</li>
                <li class="square2">2</li>
                <li class="square3">3</li>
                <li class="square4">4</li>
            </ul>
        </div>
        <div  class="page page5 hide">
            <h2>superheroe</h2>
            <img src="images/superheroes-02.png" />
            <div class="line"></div>
        </div>
        <div  class="page page6 hide">
            <h1>END</h1>
            <img  class="end-cricle" src="images/circle.gif" />
            <img class="owl" src="images/owl.png" />
            <div class="line"></div>
        </div>
   </div>

<script>
var page=0;
var slide=true;//防止连续滑动，当settimeout动作完成时才能继续滑动。
$(document).ready(function(){
	$(".page").swipe({
		swipeUp:function(){
			if(page!=($(".page").length-1)&&slide==true){
				slide=false;
				$($(".page").get(page+1)).removeClass("hide");
				$($(".page").get(page+1)).addClass("page-movefrombottom current");
				$($(".page").get(page)).addClass("page-movetotop");
				setTimeout(function(){
					$($(".page").get(page+1)).removeClass("page-movefrombottom");
					$($(".page").get(page)).removeClass("page-movetotop");
					$($(".page").get(page)).removeClass("current");
					$($(".page").get(page)).addClass("hide");
					page++;
					slide=true;
				},600);
				if(page==($(".page").length-2)){
					$(".top").addClass("hide");
				}
				return;
			};
			
		},
		swipeDown:function(){
			if(page!=0&&slide==true){
				slide=false;
				$($(".page").get(page-1)).removeClass("hide");
				$($(".page").get(page-1)).addClass("page-movefromtop current");
				$($(".page").get(page)).addClass("page-movetobottom");
				setTimeout(function(){
					$($(".page").get(page-1)).removeClass("page-movefromtop");
					$($(".page").get(page)).removeClass("page-movetobottom");
					$($(".page").get(page)).removeClass("current");
					$($(".page").get(page)).addClass("hide");
					page--;
					slide=true;
				},600);
				if(page==($(".page").length-1)){
					$(".top").removeClass("hide");
				}
				return;
			};
		},
	});
});
var music=true;
$(".music").click(function show(){
	
  var audio=document.getElementById("yin");
  if(music==false){
	 audio.play();
	  $(".music").addClass("rotate");
	  $(".note").removeClass("hide");
	  music=true;
	  return;
	};
  if(music==true){
	  audio.pause();
	  $(".music").removeClass("rotate");
	  $(".note").addClass("hide")
	  music=false;
	  return;
	};
});

</script>

</body>
</html>
